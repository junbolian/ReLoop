{"en_question": "The retailer plans inventory over a full year of weekly decisions, represented by fifty-two time periods. Exogenous seasonal demand, local inventories at each distribution center, and per-product production capacities work as in the core operations baseline. Customers are never backordered; unmet demand in a week is immediately lost and penalized. The main difference is the extended planning horizon, which tests the ability to manage long-run seasonality and accumulation effects.\n\nStructure cues:\n- The inventory system is the same as in retail_f1_base, with multiple products, multiple locations, and capacity-limited production for each product and period.\n- The time index now runs for fifty-two periods. The same inventory evolution and demand fulfillment logic is applied in every period of the year.\n- At each location and for each product, stock at the end of a week depends on what was carried over, what was produced for that location during the week, and what was sold or discarded. Inventory cannot go below zero; any unmet demand in a week is lost and penalized.\n- Shelf life: Each product has a shelf life in periods. Inventory must be tracked by REMAINING LIFE.\n\n  VARIABLE DEFINITION: I[p,l,t,r] = inventory at START of period t with r periods remaining.\n  Convention: r=1 is OLDEST (sell first FIFO), r=shelf_life[p] is FRESHEST.\n\n  KEY EQUATIONS - implement EXACTLY as written, do NOT add or remove terms:\n\n  (1) Fresh inflow: I[p,l,t,SL] = Q[p,t] * demand_share[l]\n      - This is ONLY the inflow from production. Do NOT subtract sales here!\n      - Q is total production, demand_share distributes it to locations.\n\n  (2) Aging: I[p,l,t+1,r] = I[p,l,t,r+1] - sales[p,l,t,r+1] for r=1..SL-1\n      - Inventory tomorrow with r remaining = inventory today with r+1 remaining - sales\n\n  (3) Waste: W[p,l,t] = I[p,l,t,1] - sales[p,l,t,1]\n      - Items with r=1 that aren't sold become waste\n\n  (4) Sales availability: sales[p,l,t,r] <= I[p,l,t,r]\n      - Can only sell what you have in inventory\n\n  (5) Inventory holding cost: charged on (I[p,l,t,r] - sales[p,l,t,r]) for r >= 2\n      - Charge on END-of-period inventory (after sales), exclude expiring items (r=1)\n- Storage capacity: sum over products of (cold_usage[p] * total_inventory[p,l,t]) <= cold_capacity[l]. These limits must be respected.\n- Substitution: Edge [p_from, p_to] means p_from's demand can be served by p_to's inventory.\n  Variable sub[p_from, p_to, l, t] = units of p_from's demand fulfilled by p_to.\n\n  Demand fulfillment equation:\n  - For p_from: total_sales[p_from] + sub[p_from, p_to] + L[p_from] = demand[p_from]\n  - For p_to: total_sales[p_to] - sub[p_from, p_to] + L[p_to] = demand[p_to]\n\n  Interpretation: p_from's demand is served by own sales + substitution + lost.\n  p_to's total sales include serving both its own demand and p_from's demand.\n\n- No transshipment and zero lead times in this scenario.\n- Labor capacity remains high enough that it does not materially bind, though it can be represented consistently with the JSON.\n- The objective is to minimize total cost over the entire year, aggregating holding, waste, and lost sales costs across all weeks.\n\n[DATA]\n{\"name\":\"retail_f1_52_weeks_v0\",\"description\":\"Standard seasonal retail scenario.\",\"periods\":52,\"products\":[\"SKU_Basic\",\"SKU_Premium\",\"SKU_ShortLife\"],\"locations\":[\"DC1\",\"DC2\",\"DC3\",\"DC4\",\"DC5\"],\"shelf_life\":{\"SKU_Basic\":10,\"SKU_Premium\":8,\"SKU_ShortLife\":4},\"lead_time\":{\"SKU_Basic\":0,\"SKU_Premium\":0,\"SKU_ShortLife\":0},\"cold_capacity\":{\"DC1\":4000,\"DC2\":3500,\"DC3\":3000,\"DC4\":3000,\"DC5\":2500},\"cold_usage\":{\"SKU_Basic\":1.0,\"SKU_Premium\":3.0,\"SKU_ShortLife\":1.2},\"production_cap\":{\"SKU_Basic\":[800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800],\"SKU_Premium\":[400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400],\"SKU_ShortLife\":[500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500]},\"labor_cap\":{\"DC1\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC2\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC3\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC4\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC5\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0]},\"labor_usage\":{\"SKU_Basic\":0.0,\"SKU_Premium\":0.0,\"SKU_ShortLife\":0.0},\"return_rate\":{\"SKU_Basic\":0.0,\"SKU_Premium\":0.0,\"SKU_ShortLife\":0.0},\"demand_curve\":{\"SKU_Basic\":[303,311,328,365,435,549,711,906,1100,1245,1300,1245,1100,906,711,549,435,365,328,311,303,311,328,365,435,549,711,906,1100,1245,1300,1245,1100,906,711,549,435,365,328,311,303,311,328,365,435,549,711,906,1100,1245,1300,1245],\"SKU_Premium\":[151,155,164,182,217,274,355,453,550,622,650,622,550,453,355,274,217,182,164,155,151,155,164,182,217,274,355,453,550,622,650,622,550,453,355,274,217,182,164,155,151,155,164,182,217,274,355,453,550,622,650,622],\"SKU_ShortLife\":[121,124,131,146,174,219,284,362,440,498,520,498,440,362,284,219,174,146,131,124,121,124,131,146,174,219,284,362,440,498,520,498,440,362,284,219,174,146,131,124,121,124,131,146,174,219,284,362,440,498,520,498]},\"demand_share\":{\"DC1\":0.25,\"DC2\":0.2,\"DC3\":0.2,\"DC4\":0.2,\"DC5\":0.15},\"costs\":{\"lost_sales\":{\"SKU_Basic\":50.0,\"SKU_Premium\":80.0,\"SKU_ShortLife\":40.0},\"inventory\":{\"SKU_Basic\":1.0,\"SKU_Premium\":1.5,\"SKU_ShortLife\":1.0},\"waste\":{\"SKU_Basic\":2.0,\"SKU_Premium\":3.0,\"SKU_ShortLife\":2.0},\"fixed_order\":0.0,\"transshipment\":0.5,\"purchasing\":{\"SKU_Basic\":10.0,\"SKU_Premium\":20.0,\"SKU_ShortLife\":15.0}},\"constraints\":{\"moq\":0,\"pack_size\":1,\"budget_per_period\":null,\"waste_limit_pct\":null},\"network\":{\"sub_edges\":[[\"SKU_Basic\",\"SKU_Premium\"]],\"trans_edges\":[]}}", "en_answer": 1006432.0, "scenario_id": "retail_f1_52_weeks_v0"}
{"en_question": "This scenario keeps the same basic single-echelon structure as the core operations baseline but represents categories where waste is extremely expensive, such as highly perishable or sensitive products. The retailer still serves exogenous seasonal demand from local inventories at distribution centers with no transshipment and no backorders. Any units that must be discarded because they are no longer usable incur a much higher penalty than in the baseline, creating strong pressure to avoid overstocking.\n\nStructure cues:\n- The network is the same as in retail_f1_base: multiple products, multiple locations that directly serve final demand, and per-product production capacities in each period.\n- Inventory is held at each location, evolves from period to period by adding local production and subtracting sales and waste, and is never allowed to go negative. Unserved demand is treated as lost sales and penalized as in the baseline.\n- Shelf life: Each product has a shelf life in periods. Inventory must be tracked by REMAINING LIFE.\n\n  VARIABLE DEFINITION: I[p,l,t,r] = inventory at START of period t with r periods remaining.\n  Convention: r=1 is OLDEST (sell first FIFO), r=shelf_life[p] is FRESHEST.\n\n  KEY EQUATIONS - implement EXACTLY as written, do NOT add or remove terms:\n\n  (1) Fresh inflow: I[p,l,t,SL] = Q[p,t] * demand_share[l]\n      - This is ONLY the inflow from production. Do NOT subtract sales here!\n      - Q is total production, demand_share distributes it to locations.\n\n  (2) Aging: I[p,l,t+1,r] = I[p,l,t,r+1] - sales[p,l,t,r+1] for r=1..SL-1\n      - Inventory tomorrow with r remaining = inventory today with r+1 remaining - sales\n\n  (3) Waste: W[p,l,t] = I[p,l,t,1] - sales[p,l,t,1]\n      - Items with r=1 that aren't sold become waste\n\n  (4) Sales availability: sales[p,l,t,r] <= I[p,l,t,r]\n      - Can only sell what you have in inventory\n\n  (5) Inventory holding cost: charged on (I[p,l,t,r] - sales[p,l,t,r]) for r >= 2\n      - Charge on END-of-period inventory (after sales), exclude expiring items (r=1)\n- Storage capacity: sum over products of (cold_usage[p] * total_inventory[p,l,t]) <= cold_capacity[l]. These limits must be respected.\n- The substitution pattern (Basic's demand served by Premium), absence of transshipment, zero lead times, and effectively non-binding labor capacities are the same as in the baseline scenario.\n- The only intended structural change is in the cost weights: waste costs in the JSON are much larger, so discarding inventory is heavily discouraged, but the constraint system itself is not altered.\n- The objective continues to minimize the sum of holding costs, waste costs, and lost sales penalties over all products, locations, and periods.\n\n[DATA]\n{\"name\":\"retail_f1_high_waste_v0\",\"description\":\"Standard seasonal retail scenario.\",\"periods\":20,\"products\":[\"SKU_Basic\",\"SKU_Premium\",\"SKU_ShortLife\"],\"locations\":[\"DC1\",\"DC2\",\"DC3\",\"DC4\",\"DC5\"],\"shelf_life\":{\"SKU_Basic\":10,\"SKU_Premium\":8,\"SKU_ShortLife\":4},\"lead_time\":{\"SKU_Basic\":0,\"SKU_Premium\":0,\"SKU_ShortLife\":0},\"cold_capacity\":{\"DC1\":4000,\"DC2\":3500,\"DC3\":3000,\"DC4\":3000,\"DC5\":2500},\"cold_usage\":{\"SKU_Basic\":1.0,\"SKU_Premium\":3.0,\"SKU_ShortLife\":1.2},\"production_cap\":{\"SKU_Basic\":[800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800],\"SKU_Premium\":[400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400],\"SKU_ShortLife\":[500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500]},\"labor_cap\":{\"DC1\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC2\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC3\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC4\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC5\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0]},\"labor_usage\":{\"SKU_Basic\":0.0,\"SKU_Premium\":0.0,\"SKU_ShortLife\":0.0},\"return_rate\":{\"SKU_Basic\":0.0,\"SKU_Premium\":0.0,\"SKU_ShortLife\":0.0},\"demand_curve\":{\"SKU_Basic\":[303,311,328,365,435,549,711,906,1100,1245,1300,1245,1100,906,711,549,435,365,328,311],\"SKU_Premium\":[151,155,164,182,217,274,355,453,550,622,650,622,550,453,355,274,217,182,164,155],\"SKU_ShortLife\":[121,124,131,146,174,219,284,362,440,498,520,498,440,362,284,219,174,146,131,124]},\"demand_share\":{\"DC1\":0.25,\"DC2\":0.2,\"DC3\":0.2,\"DC4\":0.2,\"DC5\":0.15},\"costs\":{\"lost_sales\":{\"SKU_Basic\":50.0,\"SKU_Premium\":80.0,\"SKU_ShortLife\":40.0},\"inventory\":{\"SKU_Basic\":1.0,\"SKU_Premium\":1.5,\"SKU_ShortLife\":1.0},\"waste\":{\"SKU_Basic\":40.0,\"SKU_Premium\":60.0,\"SKU_ShortLife\":40.0},\"fixed_order\":0.0,\"transshipment\":0.5,\"purchasing\":{\"SKU_Basic\":10.0,\"SKU_Premium\":20.0,\"SKU_ShortLife\":15.0}},\"constraints\":{\"moq\":0,\"pack_size\":1,\"budget_per_period\":null,\"waste_limit_pct\":null},\"network\":{\"sub_edges\":[[\"SKU_Basic\",\"SKU_Premium\"]],\"trans_edges\":[]}}", "en_answer": 378951.5, "scenario_id": "retail_f1_high_waste_v0"}
{"en_question": "All locations share a tight storage resource that applies across all products, representing limited chilled, ambient, or dry space. Demand at each location is still exogenous and local, and inventory is not transferred between locations. The main operational challenge is that total stored volume at each site must fit within a strict capacity, so stocking one product reduces room for others.\n\nStructure cues:\n- The inventory, production, and lost sales logic is the same as in retail_f1_base: single-echelon, multiple products and locations, local demand, and no backorders or transshipment.\n- Shelf life: Each product has a shelf life in periods. Inventory must be tracked by REMAINING LIFE.\n\n  VARIABLE DEFINITION: I[p,l,t,r] = inventory at START of period t with r periods remaining.\n  Convention: r=1 is OLDEST (sell first FIFO), r=shelf_life[p] is FRESHEST.\n\n  KEY EQUATIONS - implement EXACTLY as written, do NOT add or remove terms:\n\n  (1) Fresh inflow: I[p,l,t,SL] = Q[p,t] * demand_share[l]\n      - This is ONLY the inflow from production. Do NOT subtract sales here!\n      - Q is total production, demand_share distributes it to locations.\n\n  (2) Aging: I[p,l,t+1,r] = I[p,l,t,r+1] - sales[p,l,t,r+1] for r=1..SL-1\n      - Inventory tomorrow with r remaining = inventory today with r+1 remaining - sales\n\n  (3) Waste: W[p,l,t] = I[p,l,t,1] - sales[p,l,t,1]\n      - Items with r=1 that aren't sold become waste\n\n  (4) Sales availability: sales[p,l,t,r] <= I[p,l,t,r]\n      - Can only sell what you have in inventory\n\n  (5) Inventory holding cost: charged on (I[p,l,t,r] - sales[p,l,t,r]) for r >= 2\n      - Charge on END-of-period inventory (after sales), exclude expiring items (r=1)\n- Storage capacity: sum over products of (cold_usage[p] * total_inventory[p,l,t]) <= cold_capacity[l]. This constraint is designed to be binding and central to the trade-offs.\n- Inventory levels at each location are kept non-negative and evolve from carried-over stock and new production, minus sales and waste.\n- Substitution edges, if any, are taken from the JSON and follow the standard semantics: edge [A, B] means A's demand can be served by B.\n- Production capacities, zero lead times, and generous labor capacity remain as in the base scenario.\n- The objective is to minimize total cost while respecting the tight storage constraint.\n\n[DATA]\n{\"name\":\"retail_f3_storage_bottleneck_v0\",\"description\":\"Standard seasonal retail scenario.\",\"periods\":20,\"products\":[\"SKU_Basic\",\"SKU_Premium\",\"SKU_ShortLife\"],\"locations\":[\"DC1\",\"DC2\",\"DC3\",\"DC4\",\"DC5\"],\"shelf_life\":{\"SKU_Basic\":10,\"SKU_Premium\":8,\"SKU_ShortLife\":4},\"lead_time\":{\"SKU_Basic\":0,\"SKU_Premium\":0,\"SKU_ShortLife\":0},\"cold_capacity\":{\"DC1\":1200.0,\"DC2\":1050.0,\"DC3\":900.0,\"DC4\":900.0,\"DC5\":750.0},\"cold_usage\":{\"SKU_Basic\":1.0,\"SKU_Premium\":3.0,\"SKU_ShortLife\":1.2},\"production_cap\":{\"SKU_Basic\":[800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800],\"SKU_Premium\":[400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400],\"SKU_ShortLife\":[500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500]},\"labor_cap\":{\"DC1\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC2\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC3\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC4\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC5\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0]},\"labor_usage\":{\"SKU_Basic\":0.0,\"SKU_Premium\":0.0,\"SKU_ShortLife\":0.0},\"return_rate\":{\"SKU_Basic\":0.0,\"SKU_Premium\":0.0,\"SKU_ShortLife\":0.0},\"demand_curve\":{\"SKU_Basic\":[303,311,328,365,435,549,711,906,1100,1245,1300,1245,1100,906,711,549,435,365,328,311],\"SKU_Premium\":[151,155,164,182,217,274,355,453,550,622,650,622,550,453,355,274,217,182,164,155],\"SKU_ShortLife\":[121,124,131,146,174,219,284,362,440,498,520,498,440,362,284,219,174,146,131,124]},\"demand_share\":{\"DC1\":0.25,\"DC2\":0.2,\"DC3\":0.2,\"DC4\":0.2,\"DC5\":0.15},\"costs\":{\"lost_sales\":{\"SKU_Basic\":50.0,\"SKU_Premium\":80.0,\"SKU_ShortLife\":40.0},\"inventory\":{\"SKU_Basic\":1.0,\"SKU_Premium\":1.5,\"SKU_ShortLife\":1.0},\"waste\":{\"SKU_Basic\":2.0,\"SKU_Premium\":3.0,\"SKU_ShortLife\":2.0},\"fixed_order\":0.0,\"transshipment\":0.5,\"purchasing\":{\"SKU_Basic\":10.0,\"SKU_Premium\":20.0,\"SKU_ShortLife\":15.0}},\"constraints\":{\"moq\":0,\"pack_size\":1,\"budget_per_period\":null,\"waste_limit_pct\":null},\"network\":{\"sub_edges\":[[\"SKU_Basic\",\"SKU_Premium\"]],\"trans_edges\":[]}}", "en_answer": 429782.4, "scenario_id": "retail_f3_storage_bottleneck_v0"}
{"en_question": "Demand is scaled so high that it is physically impossible to satisfy all of it given the production and storage capacities. Even with perfect planning, some demand must be sacrificed. This scenario is designed to test whether the model correctly accepts that full service is impossible and uses lost sales to remain feasible instead of implicitly assuming 100% service.\n\nStructure cues:\n- The inventory, production, storage, and lost sales framework is the same as in the base scenario.\n- Shelf life: Each product has a shelf life in periods. Inventory must be tracked by REMAINING LIFE.\n\n  VARIABLE DEFINITION: I[p,l,t,r] = inventory at START of period t with r periods remaining.\n  Convention: r=1 is OLDEST (sell first FIFO), r=shelf_life[p] is FRESHEST.\n\n  KEY EQUATIONS - implement EXACTLY as written, do NOT add or remove terms:\n\n  (1) Fresh inflow: I[p,l,t,SL] = Q[p,t] * demand_share[l]\n      - This is ONLY the inflow from production. Do NOT subtract sales here!\n      - Q is total production, demand_share distributes it to locations.\n\n  (2) Aging: I[p,l,t+1,r] = I[p,l,t,r+1] - sales[p,l,t,r+1] for r=1..SL-1\n      - Inventory tomorrow with r remaining = inventory today with r+1 remaining - sales\n\n  (3) Waste: W[p,l,t] = I[p,l,t,1] - sales[p,l,t,1]\n      - Items with r=1 that aren't sold become waste\n\n  (4) Sales availability: sales[p,l,t,r] <= I[p,l,t,r]\n      - Can only sell what you have in inventory\n\n  (5) Inventory holding cost: charged on (I[p,l,t,r] - sales[p,l,t,r]) for r >= 2\n      - Charge on END-of-period inventory (after sales), exclude expiring items (r=1)\n- Storage capacity: sum over products of (cold_usage[p] * total_inventory[p,l,t]) <= cold_capacity[l]. These limits must be respected.\n- In the JSON, all demand curves are multiplied by 5x so that total demand over the horizon far exceeds what can be produced or stored. The model should not attempt to enforce full demand satisfaction; lost sales must be used where necessary.\n- Inventory at each location and period is kept non-negative and reflects previous stock, local production, sales, and waste.\n- Production capacity constraints must be applied as given.\n- There is no transshipment, lead times are zero, and substitution behavior follows the substitution graph.\n- The objective is to minimize total cost, balancing holding, waste, and large lost sales penalties, effectively performing a form of model repair by accepting partial service.\n\n[DATA]\n{\"name\":\"retail_f5_impossible_demand_v0\",\"description\":\"Standard seasonal retail scenario.\",\"periods\":20,\"products\":[\"SKU_Basic\",\"SKU_Premium\",\"SKU_ShortLife\"],\"locations\":[\"DC1\",\"DC2\",\"DC3\",\"DC4\",\"DC5\"],\"shelf_life\":{\"SKU_Basic\":10,\"SKU_Premium\":8,\"SKU_ShortLife\":4},\"lead_time\":{\"SKU_Basic\":0,\"SKU_Premium\":0,\"SKU_ShortLife\":0},\"cold_capacity\":{\"DC1\":4000,\"DC2\":3500,\"DC3\":3000,\"DC4\":3000,\"DC5\":2500},\"cold_usage\":{\"SKU_Basic\":1.0,\"SKU_Premium\":3.0,\"SKU_ShortLife\":1.2},\"production_cap\":{\"SKU_Basic\":[800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800],\"SKU_Premium\":[400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400],\"SKU_ShortLife\":[500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500]},\"labor_cap\":{\"DC1\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC2\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC3\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC4\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC5\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0]},\"labor_usage\":{\"SKU_Basic\":0.0,\"SKU_Premium\":0.0,\"SKU_ShortLife\":0.0},\"return_rate\":{\"SKU_Basic\":0.0,\"SKU_Premium\":0.0,\"SKU_ShortLife\":0.0},\"demand_curve\":{\"SKU_Basic\":[1515,1555,1640,1825,2175,2745,3555,4530,5500,6225,6500,6225,5500,4530,3555,2745,2175,1825,1640,1555],\"SKU_Premium\":[755,775,820,910,1085,1370,1775,2265,2750,3110,3250,3110,2750,2265,1775,1370,1085,910,820,775],\"SKU_ShortLife\":[605,620,655,730,870,1095,1420,1810,2200,2490,2600,2490,2200,1810,1420,1095,870,730,655,620]},\"demand_share\":{\"DC1\":0.25,\"DC2\":0.2,\"DC3\":0.2,\"DC4\":0.2,\"DC5\":0.15},\"costs\":{\"lost_sales\":{\"SKU_Basic\":50.0,\"SKU_Premium\":80.0,\"SKU_ShortLife\":40.0},\"inventory\":{\"SKU_Basic\":1.0,\"SKU_Premium\":1.5,\"SKU_ShortLife\":1.0},\"waste\":{\"SKU_Basic\":2.0,\"SKU_Premium\":3.0,\"SKU_ShortLife\":2.0},\"fixed_order\":0.0,\"transshipment\":0.5,\"purchasing\":{\"SKU_Basic\":10.0,\"SKU_Premium\":20.0,\"SKU_ShortLife\":15.0}},\"constraints\":{\"moq\":0,\"pack_size\":1,\"budget_per_period\":null,\"waste_limit_pct\":null},\"network\":{\"sub_edges\":[[\"SKU_Basic\",\"SKU_Premium\"]],\"trans_edges\":[]}}", "en_answer": 5783150.0, "scenario_id": "retail_f5_impossible_demand_v0"}
{"en_question": "Products differ in their effective sourcing regimes: some behave like slow but cheap supply, while others behave like fast but expensive supply. Lead times and holding costs vary across products, creating multi-speed inventory dynamics. Demand is local and exogenous at each location, and unmet demand is lost and penalized.\n\nStructure cues:\n- The inventory structure is single-echelon with product-specific lead times, similar to retail_f6_lead_time, together with storage capacity and lost sales.\n- Shelf life: Each product has a shelf life in periods. Inventory must be tracked by REMAINING LIFE.\n\n  VARIABLE DEFINITION: I[p,l,t,r] = inventory at START of period t with r periods remaining.\n  Convention: r=1 is OLDEST (sell first FIFO), r=shelf_life[p] is FRESHEST.\n\n  KEY EQUATIONS - implement EXACTLY as written, do NOT add or remove terms:\n\n  (1) Fresh inflow: I[p,l,t,SL] = Q[p,t] * demand_share[l]\n      - This is ONLY the inflow from production. Do NOT subtract sales here!\n      - Q is total production, demand_share distributes it to locations.\n\n  (2) Aging: I[p,l,t+1,r] = I[p,l,t,r+1] - sales[p,l,t,r+1] for r=1..SL-1\n      - Inventory tomorrow with r remaining = inventory today with r+1 remaining - sales\n\n  (3) Waste: W[p,l,t] = I[p,l,t,1] - sales[p,l,t,1]\n      - Items with r=1 that aren't sold become waste\n\n  (4) Sales availability: sales[p,l,t,r] <= I[p,l,t,r]\n      - Can only sell what you have in inventory\n\n  (5) Inventory holding cost: charged on (I[p,l,t,r] - sales[p,l,t,r]) for r >= 2\n      - Charge on END-of-period inventory (after sales), exclude expiring items (r=1)\n- Storage capacity: sum over products of (cold_usage[p] * total_inventory[p,l,t]) <= cold_capacity[l]. These limits must be respected.\n- The JSON sets different lead times (SKU_Basic=5, SKU_Premium=0, SKU_ShortLife=1) and holding costs (SKU_Basic=0.5, SKU_Premium=10.0). Orders for each product become available only after that product's lead time, and inventory carried over incurs its corresponding holding cost.\n- For each product, location, and period, on-hand stock is determined by previous on-hand stock, arrivals of past orders whose lead time completes in that period, sales, and waste, and must remain non-negative.\n- The scenario mimics slow/cheap (Basic) and fast/expensive (Premium) sourcing channels at the product level through heterogeneous lead times and cost profiles.\n- The objective is to minimize total cost while correctly handling the different lead times and holding-cost profiles.\n\n[DATA]\n{\"name\":\"retail_f7_multi_sourcing_v0\",\"description\":\"Standard seasonal retail scenario.\",\"periods\":20,\"products\":[\"SKU_Basic\",\"SKU_Premium\",\"SKU_ShortLife\"],\"locations\":[\"DC1\",\"DC2\",\"DC3\",\"DC4\",\"DC5\"],\"shelf_life\":{\"SKU_Basic\":10,\"SKU_Premium\":8,\"SKU_ShortLife\":4},\"lead_time\":{\"SKU_Basic\":5,\"SKU_Premium\":0,\"SKU_ShortLife\":1},\"cold_capacity\":{\"DC1\":4000,\"DC2\":3500,\"DC3\":3000,\"DC4\":3000,\"DC5\":2500},\"cold_usage\":{\"SKU_Basic\":1.0,\"SKU_Premium\":3.0,\"SKU_ShortLife\":1.2},\"production_cap\":{\"SKU_Basic\":[800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800,800],\"SKU_Premium\":[400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400,400],\"SKU_ShortLife\":[500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500]},\"labor_cap\":{\"DC1\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC2\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC3\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC4\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0],\"DC5\":[99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0,99999.0]},\"labor_usage\":{\"SKU_Basic\":0.0,\"SKU_Premium\":0.0,\"SKU_ShortLife\":0.0},\"return_rate\":{\"SKU_Basic\":0.0,\"SKU_Premium\":0.0,\"SKU_ShortLife\":0.0},\"demand_curve\":{\"SKU_Basic\":[303,311,328,365,435,549,711,906,1100,1245,1300,1245,1100,906,711,549,435,365,328,311],\"SKU_Premium\":[151,155,164,182,217,274,355,453,550,622,650,622,550,453,355,274,217,182,164,155],\"SKU_ShortLife\":[121,124,131,146,174,219,284,362,440,498,520,498,440,362,284,219,174,146,131,124]},\"demand_share\":{\"DC1\":0.25,\"DC2\":0.2,\"DC3\":0.2,\"DC4\":0.2,\"DC5\":0.15},\"costs\":{\"lost_sales\":{\"SKU_Basic\":50.0,\"SKU_Premium\":80.0,\"SKU_ShortLife\":40.0},\"inventory\":{\"SKU_Basic\":0.5,\"SKU_Premium\":10.0,\"SKU_ShortLife\":1.0},\"waste\":{\"SKU_Basic\":2.0,\"SKU_Premium\":3.0,\"SKU_ShortLife\":2.0},\"fixed_order\":0.0,\"transshipment\":0.5,\"purchasing\":{\"SKU_Basic\":10.0,\"SKU_Premium\":20.0,\"SKU_ShortLife\":15.0}},\"constraints\":{\"moq\":0,\"pack_size\":1,\"budget_per_period\":null,\"waste_limit_pct\":null},\"network\":{\"sub_edges\":[[\"SKU_Basic\",\"SKU_Premium\"]],\"trans_edges\":[]}}", "en_answer": 524480.5, "scenario_id": "retail_f7_multi_sourcing_v0"}
