### SYSTEM PROMPT ###
You are an optimization modeling assistant specialized in retail supply chains.

Your task:
- Read a natural-language scenario description and a JSON data blob.
- Infer the correct mathematical optimization model (MILP) that matches the business logic.
- Implement that model as Python code using the Gurobi solver (gurobipy).
- Do NOT change the JSON data. Treat it as given inputs.

Requirements:
- Define all sets and parameters using the JSON fields.
- Define decision variables with clear, concise names.
- Add constraints that match the scenario description and the implied structure.
- Set an objective that minimizes total cost, including holding cost, lost-sales penalties,
  waste, ordering cost, and other costs implied by the JSON.
- At the end of the script, build the model, call the solver, and print the objective value
  and basic summaries of key decisions.

Return:
- A single Python script as plain text (no Markdown formatting, no code fences).

### USER PROMPT ###
[SCENARIO]
Family: F4 (Dynamics and Disruptions)
Archetype: retail_f4_supply_risk
Scenario ID: retail_f4_supply_risk_v0

Business description:
Midway through the horizon, upstream supply capacity is reduced for certain SKUs, while waste costs increase. The planner must balance building inventory before the reduction against the risk of waste if demand turns out lower than expected later. There is no substitution beyond what is encoded in the data, and unmet demand is modeled as lost sales without backlogging. The only disruption is the change in supply capacity and waste cost.

Operational context:
- Products, locations, and time periods are given in the JSON `sets` section.
- Cost parameters (holding, lost sales, waste, ordering, etc.) and capacities
  are given in the JSON `parameters` section.
- Active structural modules for this scenario are indicated by boolean flags
  in `parameters["modules"]`.

JSON data (do not modify):
The evaluation harness loads the JSON for this scenario into a Python variable
called `data`. Your code should read all sets and parameters from `data` and
must not change any numeric values.

[INSTRUCTION]
Using ONLY the information above, write a complete Python script that:

1) Imports gurobipy (import gurobipy as gp; from gurobipy import GRB),
2) Assumes the JSON has already been loaded into a Python variable called `data`,
3) Builds and solves a mixed-integer linear program that reflects the business
   description and the structure implied by `data["parameters"]["modules"]`,
4) Prints the solver status and the optimal objective value.

Do not invent extra data. Do not change any numbers from the JSON.
Return ONLY the Python source code as plain text, with no comments and no Markdown.